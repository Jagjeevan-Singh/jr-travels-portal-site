
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Travel Packages - JR Travels</title>
  <meta name="description" content="Explore our travel packages to destinations worldwide - JR Travels">
  <meta name="author" content="JR Travels">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="navbar" id="navbar">
    <div class="container-custom">
      <div class="navbar-content">
        <a href="index.html" class="navbar-logo">JR Travels</a>
        <nav class="navbar-menu" id="navbar-menu">
          <ul class="navbar-nav">
            <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle">Destinations <span class="dropdown-icon">▼</span></a>
              <div class="dropdown-menu">
                <a href="packages.html?region=europe" class="dropdown-item">Europe</a>
                <a href="packages.html?region=asia" class="dropdown-item">Asia</a>
                <a href="packages.html?region=americas" class="dropdown-item">Americas</a>
                <a href="packages.html?region=africa" class="dropdown-item">Africa</a>
                <a href="packages.html?region=oceania" class="dropdown-item">Oceania</a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle active">Packages <span class="dropdown-icon">▼</span></a>
              <div class="dropdown-menu">
                <a href="packages.html?type=adventure" class="dropdown-item">Adventure</a>
                <a href="packages.html?type=beach" class="dropdown-item">Beach</a>
                <a href="packages.html?type=city" class="dropdown-item">City Break</a>
                <a href="packages.html?type=cultural" class="dropdown-item">Cultural</a>
                <a href="packages.html?type=safari" class="dropdown-item">Safari</a>
              </div>
            </li>
            <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
            <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
          </ul>
        </nav>
        <div class="navbar-actions">
          <button id="search-toggle" class="search-toggle" aria-label="Search">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>
          </button>
          <button id="mobile-toggle" class="mobile-toggle" aria-label="Menu">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
      </div>
    </div>
    <div class="search-container" id="search-container">
      <div class="container-custom">
        <form action="search.html" method="get" class="search-form">
          <input type="text" name="q" placeholder="Search destinations, activities, or packages..." required>
          <button type="submit">Search</button>
        </form>
      </div>
    </div>
  </header>

  <!-- Header -->
  <header class="page-header bg-travel-navy text-white">
    <div class="container-custom">
      <h1>Travel Packages</h1>
      <p>Choose from our carefully curated selection of travel experiences, ranging from city breaks to multi-week adventures around the world.</p>
    </div>
  </header>

  <!-- Search Section -->
  <section class="search-filters bg-muted">
    <div class="container-custom">
      <form id="packages-filters-form" class="search-filters-form">
        <div class="filter-group">
          <label for="price-range">Price Range:</label>
          <div class="range-slider">
            <span class="price-display">$<span id="price-min">0</span></span>
            <input type="range" id="price-range" min="0" max="5000" step="100" value="5000">
            <span class="price-display">$<span id="price-max">5000</span></span>
          </div>
        </div>
        
        <div class="filter-group">
          <label for="duration">Duration:</label>
          <select id="duration">
            <option value="any">Any</option>
            <option value="1-3">1-3 days</option>
            <option value="4-7">4-7 days</option>
            <option value="8-14">8-14 days</option>
            <option value="15+">15+ days</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="rating">Rating:</label>
          <div class="rating-filter">
            <div class="star-filter" data-rating="1">★</div>
            <div class="star-filter" data-rating="2">★</div>
            <div class="star-filter" data-rating="3">★</div>
            <div class="star-filter" data-rating="4">★</div>
            <div class="star-filter" data-rating="5">★</div>
          </div>
          <input type="hidden" id="rating" value="0">
        </div>
        
        <div class="filter-group">
          <label for="type">Type:</label>
          <select id="type">
            <option value="any">Any</option>
            <option value="adventure">Adventure</option>
            <option value="beach">Beach</option>
            <option value="city">City Break</option>
            <option value="cultural">Cultural</option>
            <option value="safari">Safari</option>
          </select>
        </div>
        
        <div class="filter-actions">
          <button type="submit" class="btn-primary">Apply Filters</button>
          <button type="button" id="reset-filters" class="btn-outline">Reset</button>
        </div>
      </form>
    </div>
  </section>

  <!-- Packages Section -->
  <section class="section">
    <div class="container-custom">
      <div id="packages-info" class="results-info">
        <!-- This will be filled by JavaScript -->
      </div>
      
      <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <p>Loading packages...</p>
      </div>
      
      <div id="packages-container" class="packages-grid">
        <!-- Packages will be populated by JavaScript -->
      </div>
      
      <div id="no-packages" class="no-results" style="display: none;">
        <h3>No packages found</h3>
        <p>Try adjusting your filters for more results.</p>
        <button id="reset-packages" class="btn-primary">Reset Filters</button>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container-custom">
      <div class="footer-grid">
        <div class="footer-about">
          <h2>JR Travels</h2>
          <p>Explore the world with us. We offer unforgettable travel experiences to destinations worldwide.</p>
          <div class="social-links">
            <a href="#" aria-label="Facebook">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
              </svg>
            </a>
            <a href="#" aria-label="Instagram">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
            </a>
            <a href="#" aria-label="Twitter">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
              </svg>
            </a>
          </div>
        </div>
        
        <div class="footer-links">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="destinations.html">Destinations</a></li>
            <li><a href="packages.html">Travel Packages</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        
        <div class="footer-links">
          <h3>Popular Destinations</h3>
          <ul>
            <li><a href="destinations.html?id=paris">Paris, France</a></li>
            <li><a href="destinations.html?id=bali">Bali, Indonesia</a></li>
            <li><a href="destinations.html?id=new-york">New York, USA</a></li>
            <li><a href="destinations.html?id=tokyo">Tokyo, Japan</a></li>
            <li><a href="destinations.html?id=santorini">Santorini, Greece</a></li>
          </ul>
        </div>
        
        <div class="footer-newsletter">
          <h3>Newsletter</h3>
          <p>Subscribe to get special offers and travel tips.</p>
          <form>
            <input type="email" placeholder="Your email">
            <button type="submit">Subscribe</button>
          </form>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; <span id="current-year"></span> JR Travels. All rights reserved.</p>
        <div>
          <a href="privacy.html">Privacy Policy</a>
          <a href="terms.html">Terms of Service</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- JS for packages page -->
  <script src="js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const params = getUrlParams();
      const packagesFiltersForm = document.getElementById('packages-filters-form');
      const packagesContainer = document.getElementById('packages-container');
      const packagesInfo = document.getElementById('packages-info');
      const noPackagesDiv = document.getElementById('no-packages');
      const loadingDiv = document.getElementById('loading');
      const resetFiltersBtn = document.getElementById('reset-filters');
      const resetPackagesBtn = document.getElementById('reset-packages');
      const priceRangeInput = document.getElementById('price-range');
      const priceMaxSpan = document.getElementById('price-max');
      const starFilters = document.querySelectorAll('.star-filter');
      const ratingInput = document.getElementById('rating');
      const typeSelect = document.getElementById('type');
      
      // Set filters based on URL parameters
      if (params.type) {
        typeSelect.value = params.type;
      }
      
      // Initialize UI
      loadPackages();
      
      // Event listeners
      priceRangeInput.addEventListener('input', function() {
        priceMaxSpan.textContent = this.value;
      });
      
      // Star rating selector
      starFilters.forEach(star => {
        star.addEventListener('click', function() {
          const rating = parseInt(this.getAttribute('data-rating'));
          ratingInput.value = rating;
          
          starFilters.forEach((s, i) => {
            if (i < rating) {
              s.classList.add('active');
            } else {
              s.classList.remove('active');
            }
          });
        });
      });
      
      // Filter form submission
      packagesFiltersForm.addEventListener('submit', function(e) {
        e.preventDefault();
        loadPackages();
      });
      
      // Reset filters
      resetFiltersBtn.addEventListener('click', function() {
        priceRangeInput.value = 5000;
        priceMaxSpan.textContent = '5000';
        document.getElementById('duration').value = 'any';
        document.getElementById('type').value = 'any';
        ratingInput.value = 0;
        
        starFilters.forEach(star => {
          star.classList.remove('active');
        });
        
        loadPackages();
      });
      
      // Reset packages button in no results section
      resetPackagesBtn.addEventListener('click', function() {
        resetFiltersBtn.click();
      });
      
      // Load packages with current filters
      function loadPackages() {
        const priceMax = parseInt(priceRangeInput.value);
        const duration = document.getElementById('duration').value;
        const rating = parseInt(ratingInput.value);
        const type = document.getElementById('type').value;
        const region = params.region || '';
        const packageId = params.id || '';
        
        // Show loading state
        loadingDiv.style.display = 'flex';
        packagesContainer.style.display = 'none';
        noPackagesDiv.style.display = 'none';
        
        // Simulate API delay
        setTimeout(() => {
          let results = [...travelPackages];
          
          // Filter by ID if provided
          if (packageId) {
            results = results.filter(pkg => pkg.id === packageId);
          }
          
          // Filter by region
          if (region) {
            // In a real application, we'd filter by region
            // This is simplified for demo purposes
            results = results.filter(pkg => {
              if (region === 'europe') {
                return ['Paris, France'].some(loc => pkg.location.includes(loc));
              } else if (region === 'asia') {
                return ['Bali, Indonesia', 'Japan'].some(loc => pkg.location.includes(loc));
              } else if (region === 'americas') {
                return ['New York, USA', 'Brazil'].some(loc => pkg.location.includes(loc));
              } else if (region === 'africa') {
                return ['Kenya', 'Tanzania'].some(loc => pkg.location.includes(loc));
              }
              return true;
            });
          }
          
          // Filter by price
          results = results.filter(pkg => pkg.price <= priceMax);
          
          // Filter by duration
          if (duration !== 'any') {
            if (duration === '15+') {
              results = results.filter(pkg => parseInt(pkg.duration) >= 15);
            } else {
              const [min, max] = duration.split('-').map(Number);
              results = results.filter(pkg => {
                const days = parseInt(pkg.duration);
                return days >= min && days <= max;
              });
            }
          }
          
          // Filter by rating
          if (rating > 0) {
            results = results.filter(pkg => pkg.rating >= rating);
          }
          
          // Filter by type
          if (type !== 'any') {
            results = results.filter(pkg => pkg.type.toLowerCase() === type.toLowerCase());
          }
          
          // Display results
          loadingDiv.style.display = 'none';
          
          if (results.length > 0) {
            packagesContainer.style.display = 'grid';
            packagesInfo.textContent = `${results.length} packages found`;
            
            // Clear previous results
            packagesContainer.innerHTML = '';
            
            // Add new results
            results.forEach(pkg => {
              const packageEl = createPackageCard(pkg);
              packagesContainer.appendChild(packageEl);
            });
            
            // Initialize animations for new elements
            initScrollAnimations();
          } else {
            noPackagesDiv.style.display = 'block';
            packagesInfo.textContent = '';
          }
        }, 800);
      }
    });
  </script>
</body>
</html>
